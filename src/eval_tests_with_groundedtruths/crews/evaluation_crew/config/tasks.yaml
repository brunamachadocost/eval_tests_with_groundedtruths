scan_and_load_files:
  description: >
    Escaneie as pastas 'files' e 'groundedtruths' para descobrir todos os arquivos JSON.
    Carregue e valide a estrutura de cada arquivo usando os modelos ResponseData e GroundTruthData.
    Faça o matching entre arquivos de resposta e gabarito usando o campo 'id'.
    Identifique arquivos órfãos (sem par correspondente).
  expected_output: >
    Um relatório detalhado contendo:
    - Número total de arquivos encontrados em cada pasta
    - Lista de pares de arquivos matcheados por ID
    - Lista de arquivos órfãos (sem correspondência)
    - Validação da estrutura dos arquivos JSON
    - Resumo do status do carregamento
  agent: file_scanner

evaluate_exact_match:
  description: >
    Para cada par de arquivos (resposta, gabarito) identificado na task anterior,
    realize uma avaliação de match exato campo por campo.
    IMPORTANTE: Compare APENAS o campo 'response_data' do arquivo de resposta 
    com o campo 'expected_response' do arquivo de gabarito. 
    Ignore todos os outros campos como id, agent_name, file_name, metadata, etc.
    Use a ExactMatchTool passando somente esses dois objetos:
    - response_data: o conteúdo do campo response_data do arquivo de resposta
    - groundtruth_data: o conteúdo do campo expected_response do arquivo de gabarito
    Calcule percentuais de acurácia e identifique campos com divergências.
    Documente discrepâncias específicas para análise posterior.
  expected_output: >
    Uma lista estruturada de resultados de avaliação contendo para cada par:
    - ID da avaliação
    - Total de campos avaliados
    - Número de campos com match exato
    - Percentual de acurácia
    - Detalhamento das divergências (campo, valor esperado, valor obtido)
    - Classificação do resultado (perfeito, parcial, falha)
  agent: exact_match_evaluator
  context:
    - scan_and_load_files

generate_evaluation_report:
  description: >
    Consolide todos os resultados das avaliações em um relatório abrangente.
    Calcule métricas agregadas de performance do sistema.
    Identifique padrões de erro mais comuns.
    Gere análises quantitativas e qualitativas dos resultados.
    Forneça recomendações acionáveis para melhoria da performance.
    Salve o relatório final em formato Markdown.
  expected_output: >
    Um arquivo EVALUATION_REPORT.md contendo:
    - Resumo quantitativo (acurácia geral, distribuição de resultados)
    - Análise qualitativa da performance
    - Identificação de padrões de erro comuns
    - Recomendações específicas para melhoria
    - Detalhamento individual de cada avaliação
    - Timestamp e metadados da avaliação
  agent: report_generator
  context:
    - scan_and_load_files
    - evaluate_exact_match
